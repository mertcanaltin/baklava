import { Meta } from '@storybook/blocks';

<Meta title="Documentation/Release Flow" />

# Baklava Release Flow

We use semantic-release library for making our version releases automatically. With this library every commit to some branches automatically being analyzed and released with a semantic version if it's needed.

| Branch | Release Channel | Notes |
|--------|:---------------:|:-----:|
| main   | `latest` | Every push to `main` branch makes a stable release. |
| next   | `beta` | Every push to `next` branch triggers a beta release flow. |

When our commits include the string BREAKING CHANGE in the commit message, the subsequent push triggers the creation of a major release in the current channel. It is essential to note that backward incompatible changes must be accompanied by breaking change commits. While we strive to minimize the introduction of breaking changes, if the need arises, maintainers will develop a release plan for their implementation.
To maintain a structured development process, breaking changes will not be directly merged into the next or main branches. Instead, a new branch will be created specifically for these changes. This approach allows us to accumulate and manage breaking changes separately until we are ready to incorporate them, typically after achieving our first stable release.

When we have some commits that has `feat` prefix in the message, that push creates a `minor` release that contains all of the changes.

When we have some commits that has `fix` prefix in the message and not any `feat` commits, that push creates a `patch` release that contains all of the changes.

With every release, we are publishing our version to our [NPM package](https://www.npmjs.com/package/@trendyol/baklava). Also semantic-release automatically creates a [GitHub Release](https://github.com/Trendyol/baklava/releases) with autogenerated Changelog in it. With the help of free public CDN services
like [jsDelivr](https://www.jsdelivr.com), [Unpkg](https://unpkg.com) or [cdnjs](https://cdnjs.com).

We are not pushing changes to `main` and `next` branches directly. `main` branch will only be updated by a PR from `next` branch that contains features/fixes that we are ready to release as stable release.
And all of the changes for the current version will be done in PRs targeting `next` branch. PRs are not making any release
